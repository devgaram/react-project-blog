{"layout":"post-content","title":"백준 - 17143 낚시왕(C++)","date":"2020-01-28T00:00:00.000Z","categories":["algorithm"],"body":"<h1>낚시왕</h1>\n<pre><code class=\"language-cpp\"><span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&lt;iostream&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&lt;vector&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&lt;map&gt;</span></span>\n<span class=\"hljs-meta\">#<span class=\"hljs-meta-keyword\">include</span> <span class=\"hljs-meta-string\">&lt;cstring&gt;</span></span>\n<span class=\"hljs-keyword\">using</span> <span class=\"hljs-keyword\">namespace</span> <span class=\"hljs-built_in\">std</span>;\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">struct</span> <span class=\"hljs-title\">Shark</span>\n{</span>\n\t<span class=\"hljs-keyword\">int</span> r;\n\t<span class=\"hljs-keyword\">int</span> c;\n\t<span class=\"hljs-keyword\">int</span> s; <span class=\"hljs-comment\">// 속력</span>\n\t<span class=\"hljs-keyword\">int</span> d; <span class=\"hljs-comment\">// 이동</span>\n\t<span class=\"hljs-keyword\">int</span> z; <span class=\"hljs-comment\">// 크기</span>\n};\n\n<span class=\"hljs-function\"><span class=\"hljs-keyword\">int</span> <span class=\"hljs-title\">main</span><span class=\"hljs-params\">()</span> </span>{\n\t<span class=\"hljs-keyword\">int</span> R, C, M;\n\t<span class=\"hljs-keyword\">int</span> r, c, s, d, z;\n\t<span class=\"hljs-built_in\">map</span>&lt;<span class=\"hljs-keyword\">int</span>, Shark&gt; sharkmap; <span class=\"hljs-comment\">// 상어정보들 [크기, 정보구조체]</span>\n\t<span class=\"hljs-built_in\">map</span>&lt;<span class=\"hljs-keyword\">int</span>, Shark&gt;::iterator it;\n\t<span class=\"hljs-keyword\">int</span> row[<span class=\"hljs-number\">5</span>] = {<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">-1</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>}; <span class=\"hljs-comment\">// 1:위, 2:아래, 3: 오른쪽, 4:왼쪽</span>\n\t<span class=\"hljs-keyword\">int</span> col[<span class=\"hljs-number\">5</span>] = {<span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">0</span>, <span class=\"hljs-number\">1</span>, <span class=\"hljs-number\">-1</span>};\n\t<span class=\"hljs-keyword\">int</span> ans = <span class=\"hljs-number\">0</span>;\n\t\n\t<span class=\"hljs-built_in\">scanf</span>(<span class=\"hljs-string\">\"%d %d %d\"</span>, &amp;R, &amp;C, &amp;M);\n\t<span class=\"hljs-keyword\">int</span> arr[R+<span class=\"hljs-number\">1</span>][C+<span class=\"hljs-number\">1</span>] = {<span class=\"hljs-number\">0</span>};\n\t<span class=\"hljs-keyword\">int</span> arrtmp[R+<span class=\"hljs-number\">1</span>][C+<span class=\"hljs-number\">1</span>] = {<span class=\"hljs-number\">0</span>};\n\t<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">int</span> i=<span class=\"hljs-number\">0</span>; i&lt;M; i++) {\n\t\t<span class=\"hljs-built_in\">scanf</span>(<span class=\"hljs-string\">\"%d %d %d %d %d\"</span>, &amp;r, &amp;c, &amp;s, &amp;d, &amp;z);\n\t\tarr[r][c] = z;\n\t\tShark tmp = {r, c, s, d, z};\n\t\tsharkmap.insert(make_pair(z, tmp));\n\t}\n\t\n\t\n\t<span class=\"hljs-keyword\">int</span> nr, nc, nd, move;\n\t<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">int</span> i=<span class=\"hljs-number\">1</span>; i&lt;=C; i++) {\n\t\t\n\t\t\n\t\t<span class=\"hljs-comment\">// 상어잡기</span>\n\t\t<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">int</span> j=<span class=\"hljs-number\">1</span>; j&lt;=R; j++) {\n\t\t\t<span class=\"hljs-keyword\">if</span> (arr[j][i] &gt; <span class=\"hljs-number\">0</span>) {\n\t\t\t\tsharkmap.erase(arr[j][i]);\n\t\t\t\tans += arr[j][i];\n\t\t\t\tarr[j][i] = <span class=\"hljs-number\">0</span>;\n\t\t\t\t<span class=\"hljs-keyword\">break</span>;\n\t\t\t}\n\t\t}\n\t\t\n\t\t<span class=\"hljs-comment\">// 상어이동</span>\n\t\t<span class=\"hljs-keyword\">for</span>(it=sharkmap.begin(); it != sharkmap.end(); it++) {\n\t\t\tShark &amp;shark = it -&gt; second;\n\t\t\t<span class=\"hljs-comment\">// 오른쪽, 왼쪽</span>\n\t\t\t<span class=\"hljs-keyword\">if</span> (shark.d == <span class=\"hljs-number\">3</span> || shark.d == <span class=\"hljs-number\">4</span>) {\n\t\t\t\tmove = shark.s % ((C<span class=\"hljs-number\">-1</span>)*<span class=\"hljs-number\">2</span>);\t<span class=\"hljs-comment\">// 실제 이동해야할 MOVE</span>\n\t\t\t\tnc = shark.c;\n\t\t\t\tnd = shark.d;\n\t\t\t\t<span class=\"hljs-keyword\">while</span> (move &gt; <span class=\"hljs-number\">0</span>) {\n\t\t\t\t\t<span class=\"hljs-keyword\">if</span> (nc == <span class=\"hljs-number\">1</span>) nd = <span class=\"hljs-number\">3</span>;\n\t\t\t\t\t<span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (nc == C) nd = <span class=\"hljs-number\">4</span>;\n\t\t\t\t\tnc += col[nd];\n\t\t\t\t\tmove--;\n\t\t\t\t}\n\t\t\t\tshark.d = nd;\n\t\t\t\tshark.c = nc;\n\t\t\t} \n\t\t\t<span class=\"hljs-comment\">// 위, 아래 </span>\n\t\t\t<span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (shark.d == <span class=\"hljs-number\">1</span> || shark.d == <span class=\"hljs-number\">2</span>) {\n\t\t\t\tmove = shark.s % ((R<span class=\"hljs-number\">-1</span>)*<span class=\"hljs-number\">2</span>);\t<span class=\"hljs-comment\">// 실제 이동해야할 MOVE</span>\n\t\t\t\tnr = shark.r;\n\t\t\t\tnd = shark.d;\n\t\t\t\t<span class=\"hljs-keyword\">while</span> (move &gt; <span class=\"hljs-number\">0</span>) {\n\t\t\t\t\t<span class=\"hljs-keyword\">if</span> (nr == <span class=\"hljs-number\">1</span>) nd = <span class=\"hljs-number\">2</span>;\n\t\t\t\t\t<span class=\"hljs-keyword\">else</span> <span class=\"hljs-keyword\">if</span> (nr == R) nd = <span class=\"hljs-number\">1</span>;\n\t\t\t\t\tnr += row[nd];\n\t\t\t\t\tmove--;\n\t\t\t\t}\n\t\t\t\tshark.d = nd;\n\t\t\t\tshark.r = nr;\n\t\t\t}\n\t\t\t<span class=\"hljs-comment\">// 상어 먹기</span>\n\t\t\t<span class=\"hljs-keyword\">if</span> (arrtmp[shark.r][shark.c] &lt; shark.z) {\n\t\t\t\t<span class=\"hljs-keyword\">if</span> (arrtmp[shark.r][shark.c] &gt; <span class=\"hljs-number\">0</span>) \n\t\t\t\t\tsharkmap.erase(arrtmp[shark.r][shark.c]);\n\t\t\t\t\n\t\t\t\tarrtmp[shark.r][shark.c] = shark.z;\n\t\t\t\t\t\n\t\t\t} <span class=\"hljs-keyword\">else</span> sharkmap.erase(shark.z);\n\t\t\t\n\t\t\n\t\t}\n\t\t\n\t\t<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">int</span> j=<span class=\"hljs-number\">1</span>; j&lt;=R; j++) {\n\t\t\t<span class=\"hljs-keyword\">for</span> (<span class=\"hljs-keyword\">int</span> k=<span class=\"hljs-number\">1</span>; k&lt;=C; k++) {\n\t\t\t\tarr[j][k] = arrtmp[j][k];\n\t\t\t\tarrtmp[j][k] = <span class=\"hljs-number\">0</span>;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t<span class=\"hljs-built_in\">printf</span>(<span class=\"hljs-string\">\"%d\"</span>, ans);\n\t\n\t<span class=\"hljs-keyword\">return</span> <span class=\"hljs-number\">0</span>;\n}\n</code></pre>\n","updatedAt":"2020-01-28T09:49:35.425Z"}