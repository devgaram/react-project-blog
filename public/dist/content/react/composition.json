{"title":"합성으로 컴포넌트에 다른 컴포넌트를 담아보자.","date":"2020-01-13T00:00:00.000Z","tags":["Composition"],"categories":["react"],"body":"<p>Modals을 만들면서 로그인 모달, 메모 모달 등 기능에 따라 모달 바디에 다른 UI를 보여주고 싶었다. 엘리먼트도 컴포넌트에 전달할 수 있을 까? 라는 의문으로 검색해보니 <strong>Composition</strong>이 나왔다.</p>\n<h1>컴포넌트에 다른 컴포넌트를 담고 싶다면?</h1>\n<h2>예시 1</h2>\n<p><code>props.children</code>을 사용하여 자식 엘리먼트를 그대로 출력할 수 있다.</p>\n<pre><code class=\"language-javascript\"><span class=\"hljs-comment\">// ...</span>\n<span class=\"hljs-keyword\">import</span> Login <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"./login\"</span> <span class=\"hljs-comment\">// 로그인 UI 컴포넌트</span>\n<span class=\"hljs-keyword\">import</span> ModalCard <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"./modalCard\"</span> <span class=\"hljs-comment\">// 모달 컴포넌트</span>\n\n<span class=\"hljs-keyword\">const</span> Bio = <span class=\"hljs-function\"><span class=\"hljs-params\">()</span> =&gt;</span> {\n  <span class=\"hljs-comment\">// ...</span>\n  <span class=\"hljs-keyword\">return</span> (\n    <span class=\"xml\"><span class=\"hljs-tag\">&lt;&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">ModalCard</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">Login</span> /&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">ModalCard</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/&gt;</span>\n  )\n}\n</span></code></pre>\n<p>ModalCard JSX 태그 안에 있는 것들이 아래와 같이 ModalCard 컴포넌트의 children prop으로 전달됩니다.</p>\n<pre><code class=\"language-javascript\"><span class=\"hljs-comment\">// ...</span>\n<span class=\"hljs-keyword\">const</span> ModalCard = <span class=\"hljs-function\">(<span class=\"hljs-params\">props</span>) =&gt;</span> {\n  <span class=\"hljs-keyword\">return</span> (\n    <span class=\"xml\"><span class=\"hljs-tag\">&lt;&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"modal is-active\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"modal-background\"</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"modal-card\"</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">header</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"modal-card-head\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"modal-card-title\"</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"delete\"</span> <span class=\"hljs-attr\">aria-label</span>=<span class=\"hljs-string\">\"close\"</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">header</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">section</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"modal-card-body\"</span>&gt;</span>\n            {props.children}\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">section</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/&gt;</span>\n  )\n}\n// ...\n</span></code></pre>\n<h2>예시 2</h2>\n<p>React에서 prop으로 전달할 수 있는 것에는 제한이 없기 때문에 이렇게도 된다.</p>\n<pre><code class=\"language-javascript\"><span class=\"hljs-comment\">// ...</span>\n<span class=\"hljs-keyword\">import</span> ModalCard <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"./modalCard\"</span>\n<span class=\"hljs-keyword\">import</span> Login <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"./login\"</span>\n\n<span class=\"hljs-keyword\">const</span> Bio = <span class=\"hljs-function\"><span class=\"hljs-params\">()</span> =&gt;</span> {\n  <span class=\"hljs-comment\">// ...</span>\n  <span class=\"hljs-keyword\">return</span> (\n    &lt;&gt;\n      {// ...}\n      &lt;ModalCard headTitle={`Who are you?`} ContentComponent={Login} isActive={isActive}/&gt;    \n    &lt;/&gt;\n  )\n}\n</code></pre>\n<pre><code class=\"language-javascript\"><span class=\"hljs-comment\">// ...</span>\n<span class=\"hljs-keyword\">const</span> ModalCard = ({ \n  headTitle,\n  ContentComponent,\n  isActive,\n }) =&gt; {\n  \n  <span class=\"hljs-keyword\">return</span> (\n    <span class=\"xml\"><span class=\"hljs-tag\">&lt;&gt;</span>\n      <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"modal\"</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"modal-background\"</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">div</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"modal-card\"</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">header</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"modal-card-head\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">p</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"modal-card-title\"</span>&gt;</span>{headTitle}<span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">p</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">button</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"delete\"</span> <span class=\"hljs-attr\">aria-label</span>=<span class=\"hljs-string\">\"close\"</span>&gt;</span><span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">button</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">header</span>&gt;</span>\n          <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">section</span> <span class=\"hljs-attr\">className</span>=<span class=\"hljs-string\">\"modal-card-body\"</span>&gt;</span>\n            <span class=\"hljs-tag\">&lt;<span class=\"hljs-name\">ContentComponent</span> /&gt;</span>\n          <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">section</span>&gt;</span>\n        <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n      <span class=\"hljs-tag\">&lt;/<span class=\"hljs-name\">div</span>&gt;</span>\n    <span class=\"hljs-tag\">&lt;/&gt;</span>\n  )\n}\n</span></code></pre>\n<p>끝!</p>\n","updatedAt":"2020-01-14T09:29:45.305Z"}